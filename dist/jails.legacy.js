!function(){Array.from||(Array.from=function(){var t=Object.prototype.toString,n=function(n){return"function"==typeof n||"[object Function]"===t.call(n)},e=function(t){var n=+t;return isNaN(n)?0:0!==n&&isFinite(n)?(n>0?1:-1)*Math.floor(Math.abs(n)):n},r=Math.pow(2,53)-1,o=function(t){var n=e(t);return Math.min(Math.max(n,0),r)};return function(t){var e=this,r=Object(t);if(null==t)throw new TypeError("Array.from requires an array-like object - not null or undefined");var i,u=arguments.length>1?arguments[1]:void 0;if(void 0!==u){if(!n(u))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(i=arguments[2])}for(var a,c=o(r.length),s=n(e)?Object(new e(c)):Array(c),f=0;c>f;)a=r[f],s[f]=u?void 0===i?u(a,f):u.call(i,a,f):a,f+=1;return s.length=c,s}}()),Object.assign||(Object.assign=function(t){t=Object(t);for(var n=1,e=arguments.length;e>n;n++){var r=arguments[n];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var n=(this.document||this.ownerDocument).querySelectorAll(t),e=n.length;--e>=0&&n.item(e)!==this;);return e>-1})}(),function(t){function n(t,e){n.components[t]=e}function e(t){var n=t.getAttribute(g);n=n.split(/\s/),m(n,r(t))}function r(t){return function(e){var r="jails#component#"+e;if(!t[r]){var o=n.component(e,t);Object.assign(o,n.components[e](o,t,u(e,t))||o),o.init(),t[r]=!0}}}function o(t,n,e){return function(t){n.__kill(),n=null,i(e),t.stopPropagation()}}function i(t){for(var e in t._events)n.events.off(t,e,t._events[e].eventHandler);t._events=null,t["jails#component#"+name]=null}function u(t,n){var e;return function(r){if(e)return r?e[r]:e;var o=s(n)[t]||{},i={data:{}};return m(Array.from(n.attributes),a(i)),e=Object.assign({},o,i),r?e[r]:e}}function a(t){return function(n){var e,r=n.name.split(/data\-/);try{e=Function("return "+n.value)()}catch(o){e=n.value}return r[1]?t.data[r.pop().replace(/-([a-z])/g,c)]=e:t[n.name]=e,t}}function c(t,n){return n.toUpperCase()}function s(t){var n,e,r={};return n=t.previousSibling,n=n&&8==n.nodeType?n:n?n.previousSibling:null,n&&8==n.nodeType&&(e=n.data.replace(/@([a-zA-z0-9-\/]*)(?:\((.*)\))?/g,function(t,n,e){r[n]=Function("return "+e)()})),r}function f(){var t={},n={};return{subscribe:function(){var e=Array.from(arguments),r=e[0],o=e[1],i=this;return r in n&&t[r]?(t[r].push(o),i.publish.apply(null,[r].concat(n[r]))):(t[r]=t[r]||[],t[r].push(o)),function(){var e=[],i=[];m(t[r],function(t){t!=o&&newarr.push(t)}),t[r]=e,m(n[r],function(t){t!=o&&newarr.push(t)}),n[r]=i}},publish:function(){var e=Array.from(arguments),r=e.shift();t[r]=t[r]||[],t[r].length?m(t[r],function(t){t&&t.apply(this,e)}):n[r]=e}}}function l(t,n,e){return function(r){for(var o=r.target;o&&o!==t;)o.matches(n)&&e.call(r.target,r),o=o.parentNode}}function p(t,n,e){return function(r){if(e==r.target){var o=r.detail.method.split(/\:/),i=o.length>1?o[1]:o[0];(i in n&&!o[1]||o[1]&&t==o[0])&&n[i].apply(n,r.detail.args),r.stopPropagation()}}}function v(t,e){return function(r){n.events.trigger(r,"execute",{args:e,method:t})}}function m(t,n,e){t=e?Array.from(t).reverse():t;for(var r=0,o=t.length;o>r;r++)n(t[r],r)}function d(){function t(t,n){var e=document.createEvent(t);return n=n||{},e.initEvent(t,n.bubbles||!1,n.cancelable||!1,n.detail||null),e}return{on:function(t,e,r,o){function i(n){var r=n.detail||{};t._events[e].map(function(e){r.instance&&u[0]&&r.instance.name!=u[0]||e.apply(t,[n].concat(r.args))})}var u,a,c;return t._events=t._events||{},u=e.split(/\:/),e=u[1]?":"+u[1]:u[0],a=e in t._events,c=o?l(t,r,i):i,t._events[e]=t._events[e]||[],t._events[e].push(o||r),a||(t.addEventListener(e,c,"focus"==e||"blur"==e),t._events[e].eventHandler=c),function(){n.events.off(t,e,o||r)}},off:function(t,n,e){t.removeEventListener(n,e,!1),t._events[n]=(t._events[n]||[]).filter(function(t){return t!=e})},trigger:function(n,e,r){try{n.dispatchEvent(new t(e,{bubbles:!0,detail:r}))}catch(o){n.dispatchEvent(new CustomEvent(e,{bubbles:!0,detail:r}))}}}}var h=f(),g="data-component",y="["+g+"]";n.components={},n.events=d(),n.publish=h.publish,n.subscribe=h.subscribe,n.start=function(t){t=t||document.documentElement,m(t.querySelectorAll(y),e,!0)},n.destroy=function(t){n.events.trigger(t,"destroy")},n.render=function(t,e){for(var r;r=t.firstChild;)r.getAttribute&&r.getAttribute(g)&&n.destroy(r),t.removeChild(r);t.innerHTML=e,n.start(t)},n.component=function(t,e){var r={name:t,publish:h.publish,subscribe:h.subscribe,on:n.events.on,init:function(){},destroy:function(){},on:function(t,r,o){return n.events.on(e,t,r,o)},off:function(t,r){n.events.off(e,t,r)},get:function(t){return function(n,r){var r=Array.from(arguments),o=[].concat(e.matches(t)?e:[]);o=o.concat(Array.from(e.querySelectorAll(t))),m(o,v(r.shift(),r))}},emit:function(){var t=Array.from(arguments);n.events.trigger(e,":"+t.shift(),{args:t,instance:r})},__kill:function(){r.destroy();for(var t in this)delete this[t];r=null}};return n.events.on(e,"execute",p(t,r,e)),n.events.on(e,"destroy",o(t,r,e)),r},"function"==typeof define&&define.amd?define(function(){return n}):"undefined"!=typeof module&&module.exports?module.exports=n:t.jails=n}(window),function(t,n){"function"==typeof define&&define.amd?define(["jquery","jails"],n):"undefined"!=typeof module&&module.exports?module.exports=n(require("jquery"),require("jails")):n(t.jQuery,t.jails)}(this,function(t,n){n.events={on:function(t,n,e,r){function o(t,n){return t.detail=n?n.detail:t.detail,t.detail=t.detail||{},i.apply(this,[t].concat(t.detail.args))}var i=r||e;r?$(t).on(n,e,o):$(t).on(n,o)},off:function(t,n,e){$(t).off(n,e)},trigger:function(t,n,e){$(t).trigger(n,{detail:e})}}});
